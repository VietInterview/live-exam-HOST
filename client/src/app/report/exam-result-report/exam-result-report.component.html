<div class="ui-g">
    <div class="ui-g-12">
        <p-toolbar>
            <div class="ui-toolbar-group-left  drop-report">
                <p-dropdown [options]="exams" [(ngModel)]="selectedExam" placeholder="{{'Select an exam'|translate}}" (onChange)="selectExam()"
                    optionLabel="name"></p-dropdown>
            </div>
            <div class="ui-toolbar-group-right">
                <button pButton type="button" label="{{'Print'|translate}}" class="purple-btn" icon="ui-icon-file-download" (click)="print()"></button>
                <button pButton type="button" label="{{'Export'|translate}}" class="purple-btn" icon="ui-icon-file-download" (click)="export()"></button>
            </div>
        </p-toolbar>
        <p-table #dataTable [value]="records" [responsive]="true">
            <ng-template pTemplate="caption">
                {{'Exam result report'|translate}}
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th>{{'User name'|translate}}</th>
                    <th>{{'User login'|translate}}</th>
                    <th>{{'User group'|translate}}</th>
                    <th>{{'Attempt date'|translate}}</th>
                    <th>{{'Score'|translate}}</th>
                    <th>{{'Grade'|translate}}</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-records let-rowIndex="rowIndex">
                <tr>
                    <td>{{records.user_name}}</td>
                    <td>{{records.user_login}}</td>
                    <td>{{records.user_group}}</td>
                    <td>{{records.date_attempt}}</td>
                    <td>{{records.score}}</td>
                    <td>{{records.grade}}</td>
                </tr>
            </ng-template>
            <ng-template pTemplate="summary">
                {{'Total records'|translate}} : {{records?.length}}
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td [attr.colspan]="6">
                        {{'No records found'|translate}}
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
    <result-report-print-dialog></result-report-print-dialog>
</div>